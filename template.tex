\documentclass[12pt,a4paper]{report}
\usepackage[english]{babel}
\usepackage[left=2.5cm,right=2.5cm,top=2cm,bottom=1.5cm]{geometry}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{multirow}
\usepackage[table]{xcolor}


% AD and RD entries
\usepackage{enumerate}
\usepackage[shortlabels]{enumitem}

\newenvironment{ADlist}
               {\begin{enumerate}[start=1,label={\bfseries AD\arabic*}]}
               {\end{enumerate}}               
\newenvironment{RDlist}
               {\begin{enumerate}[start=1,label={\bfseries RD\arabic*}]}
               {\end{enumerate}}
\newcommand{\ARDitem}[2]{\item \label{#1} {#2}}


% Auxiliary lists
\usepackage{tocloft}
\newcommand{\listreqname}{List of Requirements:}
\newlistof{req}{toreq}{\listreqname}
\newcommand{\req}[2]{%
\refstepcounter{req}
\par\vspace{0.2cm}\noindent\textbf{R-CUB-\thereq:} #2 \label{#1}\vspace{0.2cm}
\addcontentsline{toreq}{req}
{\protect \textbf{R-CUB-\numberline{\thereq}}#2}\par}
\newcommand{\citereq}[1]{\textbf{R-CUB-\ref{#1}}}


\newcommand{\listquestionname}{List of Questions:}
\newlistof{question}{toquestion}{\listquestionname}
\newcommand{\question}[2]{%
\refstepcounter{question}
\par\vspace{0.2cm}\noindent\textbf{Q\thequestion:} #2 \label{#1}\vspace{0.2cm}
\addcontentsline{toquestion}{question}
{\protect \textbf{Q\numberline{\thequestion}}#2}\par}
\newcommand{\citequestion}[1]{\textbf{Q\ref{#1}}}




\title{My attempt to create an ESO document in \LaTeX}
\author{Giorgio Calderone}
\date{February 2014}

\begin{document}


\begin{tabular}{ |p{6cm}|p{8cm}| }
  \hline
      {\bf Document title:}          & {\bf CUBES design}                       \\ \hline
      {\bf Document number:}         & CUBES-123-456-789                        \\ \hline
      {\bf Document verision:}       & 0.1                                      \\ \hline
      {\bf Document type:}           & XXX                                      \\ \hline
      {\bf Document status:}         & Draft                                    \\ \hline
      {\bf Releasing organization:}  & CUBES Consortium                         \\ \hline
      {\bf Released on:}             & 2023-01-01                               \\ \hline
      \multirow{2}{*}{\bf Document classification:} & CUBES Consortium Internal \\
                                     & [Confidential for non-CUBES staff]       \\ \hline
\end{tabular}

\bigskip

\begin{tabular}{ |p{3cm}|p{5cm}|p{5cm}| }
  \hline
      {\bf Prepared by:}  &  Giorgio Calderone & \\ \hline
      {\bf Approved by:}  &                    & \\ \hline
      {\bf Released by:}  &                    & \\ \hline
\end{tabular}


\newpage




{\Large \bf Authors}
\medskip

\begin{tabular}{ |p{6cm}|p{8cm}| }
  \hline
      {\bf Name} & {\bf Affiliation}\\
      \hline
      Giorgio Calderone & INAF-OATs\\
      \hline
\end{tabular}

\bigskip

{\Large \bf Change Record from previous Version}
\medskip

\begin{tabular}{ |p{6cm}|p{8cm}| }
  \hline
      {\bf Affected Section(s)} & {\bf Changes / Reason / Remarks}\\
      \hline
       & \\
      \hline
\end{tabular}


\newpage


\tableofcontents

\newpage

\chapter{Introduction}

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.


\begin{equation}
  \label{eq:eq}
  E = mc^2
\end{equation}

\begin{enumerate}
\item {\bf bold};
\item {\it italic};
\item {\tt teletype};
\item normal\footnote{Footnote test};
\item {\tiny tiny};
\item {\small small};
\item {\large large};
\item {\Large Large}.
\end{enumerate}


\chapter{Related documents}

The following documents, of the exact version shown, form part of this document to the extent specified herein. In the event of conflict between the documents referenced herein and the content of this document, the content of this document shall be considered as superseding.  AD references shall be specific about which part of the target document is the subject of the reference.

\section{Applicable documents}
\begin{ADlist}
  \ARDitem{AD:ISURS}{CUBES Instrument Software User Requirement Specifications;\\CUBES-SWR-SPE-004, Version 1;}
  \ARDitem{AD:ESO-379353}{Common Requirements for VLT Instruments;\\ESO-379353, Version 3}
  \ARDitem{AD:ESO-351071}{ICS Software Specification;\\ESO-351071, Version 1}
\end{ADlist}


\section{Reference documents}
\begin{RDlist}
  \ARDitem{RD:ESO-351097}{VLT-ELT Gateway Software Design Description;\\ESO-351097, Version 2}
  \ARDitem{RD:ESO-363357}{ELT ICS Framework - Online Data Processing - User Manual;\\ESO-363357, Version 2}
  \ARDitem{RD:ESO-363358}{ELT ICS Framework - Sequencer - User Manual;\\ESO-363358, Version 1}
\end{RDlist}



\chapter{Main matter}

\section{Requirements}
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
\req{req:must_work}{CUBES must work.}

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

\req{req:must_notbreak}{CUBES must not break.}

\section{Questions}

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
\question{q:how_to}{How to make a coffee?}

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

\question{q:when_to}{When to make a coffee?}

\section{Figures and tables}

\begin{figure}[hbtp!]
  \centering
  \includegraphics[width=0.5\textwidth]{media/m31}
  \caption{Andromeda galaxy}
    \label{fig:m31}
\end{figure}


\begin{table}[hbtp!]
  \centering
  \begin{tabular}{ |l|l|l| }
    \hline
    \rowcolor{lightgray} \multicolumn{3}{|c|}{Country List} \\
    \hline
    Country Name or Area Name& ISO ALPHA 2 Code &ISO ALPHA 3 \\
    \hline
    Afghanistan & AF &AFG \\
    \rowcolor{gray}
    Aland Islands & AX & ALA \\
    Albania   &AL & ALB \\
    Algeria  &DZ & DZA \\
    American Samoa & AS & ASM \\
    Andorra & AD & \cellcolor[HTML]{AA0044} AND    \\
    Angola & AO & AGO \\
    \hline
  \end{tabular}
  \caption{Table to test captions and labels.}
  \label{tab:test}
\end{table}


\section{References}
\begin{itemize}
\item \ref{AD:ISURS}, \ref{RD:ESO-363358};
\item \citereq{req:must_work}, \citereq{req:must_notbreak}
\item \citequestion{q:how_to}, \citequestion{q:when_to};
\item Tab.~\ref{tab:test}, Fig.~\ref{fig:m31}, Eq.~\ref{eq:eq};
\end{itemize}


\newpage

\listofreq
\listofquestion

\end{document}

